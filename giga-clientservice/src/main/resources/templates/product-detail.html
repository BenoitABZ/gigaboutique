<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Product</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->
<link rel="icon" type="image/png" th:href="@{/images/icons/favicon.png}" />
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/vendor/bootstrap/css/bootstrap.min.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/fonts/font-awesome-4.7.0/css/font-awesome.min.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/fonts/iconic/css/material-design-iconic-font.min.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/fonts/linearicons-v1.0.0/icon-font.min.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="@{/vendor/animate/animate.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/vendor/css-hamburgers/hamburgers.min.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/vendor/animsition/css/animsition.min.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/vendor/select2/select2.min.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/vendor/daterangepicker/daterangepicker.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" th:href="@{/vendor/slick/slick.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/vendor/MagnificPopup/magnific-popup.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css"
	th:href="@{/vendor/perfect-scrollbar/perfect-scrollbar.css}">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" th:href="@{/css/util.css}">
<link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">
<!--===============================================================================================-->
</head>
<body class="animsition">

	<!-- Header -->
	<header>
		<!-- Header desktop -->
		<div class="container-menu-desktop">
			<!-- Topbar -->
			<div class="top-bar">
				<div class="content-topbar flex-sb-m h-full container">

					<div class="right-top-bar flex-w h-full">

					 <a th:href="@{/logout}" class="flex-c-m trans-04 p-lr-25"> Deconnexion </a>

					</div>
				</div>
			</div>

			<div class="wrap-menu-desktop">
				<nav class="limiter-menu-desktop container">

					<!-- Logo desktop -->
					<a href="#" class="logo"> <img th:src="@{|/images/icons/logo-01.png|}"
						alt="IMG-LOGO">
					</a>

					<!-- Menu desktop -->
			      <div class="menu-desktop">
						<ul class="main-menu">
							<li class="active-menu"><a th:href="@{/inscription}">Home</a></li>

							<li class="label1" data-label1="New"><a th:href="@{/getproduits}">Shopping</a>
							</li>

							<li><a href= "#" >Contact</a></li>
						</ul>
					</div>

					<!-- Icon header -->
					<div class="wrap-icon-header flex-w flex-r-m">
						<a  
						    id = "heart"
						    th:href="@{/getproduitspanier}"
							class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti"
							th:attr="data-notify=${numberOfItems}"> <i class="zmdi zmdi-favorite-outline"></i>
						</a>
					</div>
				</nav>
			</div>
		</div>
	</header>

	<div class="flex-w flex-sb-m p-b-52"></div>

    <!-- Product Detail -->   
	<section class="sec-product-detail bg0 p-t-65 p-b-60">
		<div class="container">
			<div class="row">
				<div class="col-md-6 col-lg-7 p-b-30">
					<div class="p-l-25 p-r-30 p-lr-0-lg">
						<div class="wrap-slick3 flex-sb flex-w">
							<div class="wrap-slick3-dots"></div>
							<div class="wrap-slick3-arrows flex-sb-m flex-w"></div>

							<div class="slick3 gallery-lb">
								<div th:each = "image : ${produitDto.images}" class="item-slick3"
									 th:attr = "data-thumb=${image}">
									<div class="wrap-pic-w pos-relative">
										<img th:src="${image}" alt="IMG-PRODUCT">

										<a
											class="flex-c-m size-108 how-pos1 bor0 fs-16 cl10 bg0 hov-btn3 trans-04"
											th:href="${image}"> <i
											class="fa fa-expand"></i>
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="col-md-6 col-lg-5 p-b-30">
					<div class="p-r-50 p-t-5 p-lr-0-lg">
						<h4 th:text = "${produitDto.nom}" class="mtext-105 cl2 js-name-detail p-b-14"></h4>

						<span th:text = "|${produitDto.newPrix}€|" class="mtext-106 cl2"></span>
						
						<span 
						style="color : red; font-size : 17px"
						th:text = "| - ${produitDto.promotion}%|" class="mtext-106 cl2">
						</span>

						<!--  -->
						<div class="p-t-33">
							<div class="flex-w flex-r-m p-b-10">
								<div class="size-203 flex-c-m respon6">Tailles</div>

								<div class="size-204 respon6-next">
									<div class="rs1-select2 bor8 bg0">
										<select class="js-select2" name="time">
											<option>Tailles disponibles</option>
											<option th:each="taille : ${produitDto.tailles}"
											        th:if="${taille['value']}"
											        th:text ="${taille['key']}">											      		        
											 </option>
										    <option th:each="taille : ${produitDto.tailles}"
										            th:unless="${taille['value']}"
											        th:text ="${taille['key']}"
											        disabled>
											</option>
										</select>
										<div class="dropDownSelect2"></div>
									</div>
								</div>
							</div>

							<div class="flex-w flex-r-m p-b-10">
								<div class="size-204 flex-w flex-m respon6-next">
									    <a
									    th:href="${produitDto.adresseWeb}"
										class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">
										GO!
										</a>

								</div>
							</div>
						</div>

						<!--  -->
						<div class="block2-txt-child2 flex-r p-t-3">
								<a href="#"
								    th:if="${heart}"
								    th:id="${produitDto.idProduit}"
									class="btn-addwish-b2 dis-block pos-relative js-addedwish-b2">
									<img 
									class="icon-heart1 dis-block trans-04"
									th:src="@{|/images/icons/icon-heart-01.png|}" alt="ICON"> 
									<img
									class="icon-heart2 dis-block trans-04 ab-t-l"
									th:src="@{|/images/icons/icon-heart-02.png|}" alt="ICON">
								</a>
								<a href="#"
								    th:unless="${heart}"
								    th:id="${produitDto.idProduit}"
									class="btn-addwish-b2 dis-block pos-relative js-addwish-b2">
									<img 
									class="icon-heart1 dis-block trans-04"
									th:src="@{|/images/icons/icon-heart-01.png|}" alt="ICON"> 
									<img
									class="icon-heart2 dis-block trans-04 ab-t-l"
									th:src="@{|/images/icons/icon-heart-02.png|}" alt="ICON">
								</a>
							</div>
							
							<div class="flex-w flex-sb-m p-b-52"></div>
							<div class="flex-w flex-sb-m p-b-52"></div>
							<div class="flex-w flex-sb-m p-b-52"></div>
							<div class="flex-w flex-sb-m p-b-52"></div>
							<div class="flex-w flex-sb-m p-b-52"></div>

							<a href="#"
								class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100"
								data-tooltip="Facebook"> <i class="fa fa-facebook"></i>
							</a> <a href="#"
								class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100"
								data-tooltip="Twitter"> <i class="fa fa-twitter"></i>
							</a> <a href="#"
								class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100"
								data-tooltip="Google Plus"> <i class="fa fa-google-plus"></i>
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="bor10 m-t-50 p-t-43 p-b-40">
				<!-- Tab01 -->
				<div class="tab01">
					<!-- Nav tabs -->
					<ul class="nav nav-tabs" role="tablist">

						<li class="nav-item p-b-10">
						  <a class="nav-link"
						     style="font-size : 18px"
							 data-toggle="tab" 
							 href="#information" 
							 role="tab">Le vendeur
					      </a>
					    </li>

						<li class="nav-item p-b-10">
						   <a class="nav-link"
						      style="font-size : 18px"
							  data-toggle="tab" 
							  href="#reviews" 
							  role="tab"
							  th:text="|Commentaires(${vendeurDto.nombreDeCommentaires})|">
						  </a>
						</li>
					</ul>

					<!-- Tab panes -->
					<div class="tab-content p-t-43">
						<!-- - -->
						<div class="tab-pane fade show active" id="information"
							role="tabpanel">
							<div class="row">
								<div class="col-sm-10 col-md-8 col-lg-6 m-lr-auto">
											        					            																		
									<ul class="p-lr-28 p-lr-15-sm">	
									
									   <li>
										    <span
										    style="font-size : 18px"
										    th:text="${vendeurDto.nom}"
											class="stext-102 cl3 size-205">
											</span> 
										</li>
										
										<li class="flex-w flex-t p-b-7">
										    <span
										    style="font-size : 18px"
										    th:text="|${vendeurDto.note}/5|"
											class="stext-102 cl3 size-205">
											</span> 
										</li>	
									
									   <li class="flex-w flex-t p-b-7">
									       <span
									       class="stext-102 cl3 size-205"> 
									       <img th:src="${vendeurDto.logo}" alt="IMG-LOGO">
									       </span> 
									   </li>
													
									</ul>
								</div>
							</div>
						</div>

						<!-- - -->
						<div class="tab-pane fade" id="reviews" role="tabpanel">
							<div class="row">
								<div class="col-sm-10 col-md-8 col-lg-6 m-lr-auto">
									<div  class="p-b-30 m-lr-15-sm">
										<!-- Review -->
										<div th:each="commentaire : ${commentaires}" class="flex-w flex-t p-b-68">
											<div class="size-207">
												<div class="flex-w flex-sb-m p-b-17">
													<span th:text="|${commentaire.auteur} le : ${commentaire.dateCommentaire}|" class="mtext-107 cl2 p-r-20"></span> 
													<span th:if="${commentaire.note gt 0} and ${commentaire.note lt 1}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star-half"></i>
													</span>
													
													<span th:if="${commentaire.note == 1}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
													</span>
													
													<span th:if="${commentaire.note gt 1} and ${commentaire.note lt 2}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star-half"></i>
													</span>
													
													<span th:if="${commentaire.note == 2}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
													</span>
													
													<span th:if="${commentaire.note gt 2} and ${commentaire.note lt 3}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i> 
														<i class="zmdi zmdi-star-half"></i>
													</span>
													
													<span th:if="${commentaire.note == 3}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
													</span>
													
													<span th:if="${commentaire.note gt 3} and ${commentaire.note lt 4}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star-half"></i>
													</span>
													
													<span th:if="${commentaire.note == 4}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
													</span>
													
													<span th:if="${commentaire.note gt 4} and ${commentaire.note lt 5}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i> 
														<i class="zmdi zmdi-star-half"></i>
													</span>
													
													<span th:if="${commentaire.note == 5}" class="fs-18 cl11"> 
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
														<i class="zmdi zmdi-star"></i>
													</span>
												</div>

												<p th:text="${commentaire.description}" class="stext-102 cl6"></p>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
	</section>

	<!-- Footer -->
	<footer class="bg3 p-t-75 p-b-32">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">Categories</h4>

					<ul>
						<li class="p-b-10"><a href="#"
							class="stext-107 cl7 hov-cl1 trans-04"> Femme </a></li>

						<li class="p-b-10"><a href="#"
							class="stext-107 cl7 hov-cl1 trans-04"> Homme </a></li>
					</ul>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">Besoin d'aide ?</h4>

					<ul>
						<li class="p-b-10"><a href="#"
							class="stext-107 cl7 hov-cl1 trans-04"> Comment ça marche ? </a>
						</li>

						<li class="p-b-10"><a href="#"
							class="stext-107 cl7 hov-cl1 trans-04"> Qui sommes-nous ? </a></li>

						<li class="p-b-10"><a href="#"
							class="stext-107 cl7 hov-cl1 trans-04"> FAQ </a></li>
					</ul>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">GET IN TOUCH</h4>

					<p class="stext-107 cl7 size-201">Des questions ? Rejoignez
						nous sur les réseaux sociaux !</p>

					<div class="p-t-27">
						<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16"> <i
							class="fa fa-facebook"></i>
						</a> <a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16"> <i
							class="fa fa-instagram"></i>
						</a> <a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16"> <i
							class="fa fa-pinterest-p"></i>
						</a>
					</div>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">Newsletter</h4>

					<form>
						<div class="wrap-input1 w-full p-b-4">
							<input class="input1 bg-none plh1 stext-107 cl7" type="text"
								name="email" placeholder="email@example.com">
							<div class="focus-input1 trans-04"></div>
						</div>

						<div class="p-t-18">
							<button
								class="flex-c-m stext-101 cl0 size-103 bg1 bor1 hov-btn2 p-lr-15 trans-04">
								INSCRIPTION</button>
						</div>
					</form>
				</div>
			</div>

			<p class="stext-107 cl6 txt-center">
				<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
				Copyright &copy;
				<script>
					document.write(new Date().getFullYear());
				</script>
				All rights reserved | Latest OpenClassrooms project
				<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->

			</p>
		</div>
	</footer>


	<!-- Back to top -->
	<div class="btn-back-to-top" id="myBtn">
		<span class="symbol-btn-back-to-top"> <i
			class="zmdi zmdi-chevron-up"></i>
		</span>
	</div>

	<!--===============================================================================================-->
	<script th:src="@{/vendor/jquery/jquery-3.2.1.min.js}"></script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/animsition/js/animsition.min.js}"></script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/bootstrap/js/popper.js}"></script>
	<script th:src="@{/vendor/bootstrap/js/bootstrap.min.js}"></script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/select2/select2.min.js}"></script>
	<script>
		$(".js-select2").each(function() {
			$(this).select2({
				minimumResultsForSearch : 20,
				dropdownParent : $(this).next('.dropDownSelect2')
			});
		})
	</script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/daterangepicker/moment.min.js}"></script>
	<script th:src="@{/vendor/daterangepicker/daterangepicker.js}"></script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/slick/slick.min.js}"></script>
	<script th:src="@{/js/slick-custom.js}"></script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/parallax100/parallax100.js}"></script>
	<script>
		$('.parallax100').parallax100();
	</script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/MagnificPopup/jquery.magnific-popup.min.js}"></script>
	<script>
		$('.gallery-lb').each(function() { // the containers for all your galleries
			$(this).magnificPopup({
				delegate : 'a', // the selector for gallery item
				type : 'image',
				gallery : {
					enabled : true
				},
				mainClass : 'mfp-fade'
			});
		});
	</script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/isotope/isotope.pkgd.min.js}"></script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/sweetalert/sweetalert.min.js}"></script>
	<script>
		$('.js-addwish-b2').on('click', function(e) {
			e.preventDefault();
		});

		$('.js-addwish-b2').each(
				function() {
					var nameProduct = $(this).parent().parent().find('.js-name-detail').html();
					
					$(this).on('click', function() {
						
						var id = $(this).attr('id');
						var notify = $('#heart').attr('data-notify');
						
						$.ajax
					    ({ 
					        url: 'http://localhost:8006/addproduitpanier',
					        data: "id="+id,
					        type: 'GET',
					        success: function(){
					        	
						swal(nameProduct, "est ajouté à la wishlist!", "success");
											
						var notifynum = parseInt(notify);
						notifynum++;
						var newnotify = notifynum.toString();
						
						$('#heart').attr('data-notify', newnotify);
											
						
					        }
					    });
						
						$(this).removeClass('js-addwish-b2');
						$(this).addClass('js-addedwish-b2');
						$(this).off('click')
										
					});
				});
		
	</script>
	<!--===============================================================================================-->
	<script th:src="@{/vendor/perfect-scrollbar/perfect-scrollbar.min.js}"></script>
	<script>
		$('.js-pscroll').each(function() {
			$(this).css('position', 'relative');
			$(this).css('overflow', 'hidden');
			var ps = new PerfectScrollbar(this, {
				wheelSpeed : 1,
				scrollingThreshold : 1000,
				wheelPropagation : false,
			});

			$(window).on('resize', function() {
				ps.update();
			})
		});
	</script>
	<!--===============================================================================================-->
	<script th:src="@{/js/main.js}"></script>

</body>
</html>